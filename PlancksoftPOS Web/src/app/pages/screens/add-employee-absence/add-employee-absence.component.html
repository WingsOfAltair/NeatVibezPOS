<div class="row">
  <div class="col-lg-12">
    <nb-card>
      <nb-card-header>{{ "GENERALWORDS.ABSENCE" | translate }}</nb-card-header>
      <nb-card-body>
        <div class="row mt-3" [formGroup]="Search">
          <div class="col-md-4">
            <label class="col-lg-12">{{ "GENERALWORDS.DATE1" | translate }}</label>

            <input
              style="width: 20rem"
              nbInput
              formControlName="Date1"
              placeholder="Date"
              [nbDatepicker]="Date1"
            />
            <nb-datepicker #Date1></nb-datepicker>
          </div>

          <div class="col-md-4">
            <label class="col-lg-12">{{ "GENERALWORDS.DATE2" | translate }}</label>

            <input
              style="width: 20rem"
              nbInput
              formControlName="Date2"
              placeholder="Date"
              [nbDatepicker]="Date2"
            />
            <nb-datepicker #Date2></nb-datepicker>
          </div>

          <div class="col-md-2" style="margin-top: 25px">
            <div class="buttons-row">
              <button
                class="col-md-12"
                nbButton
                status="primary"
                (click)="search()"
              >
              {{ "GENERALWORDS.SEARCH" | translate }}
              </button>
            </div>
          </div>

          <div class="col-lg-12" style="margin-top: 28px">
            <div class="row">
              <div class="col-lg-6">
                <button
                  class="col-md-4"
                  nbButton
                  status="primary"
                  (click)="AddAbsence()"
                >
                {{ "GENERALWORDS.ADDABSENCE" | translate }}
                </button>
              </div>

              <div class="col-lg-6 mb-3">
                <input
                  nbInput
                  [nbFilterInput]="dataSource"
                  placeholder='{{ "GENERALWORDS.SEARCH" | translate }}'
                  id="search"
                  class="search-input"
                  style="float: right; width: 60%"
                />
              </div>
              <table
                [nbTreeGrid]="dataSource"
                [nbSort]="dataSource"
                (sort)="updateSort($event)"
              >
                <tr
                  nbTreeGridHeaderRow
                  *nbTreeGridHeaderRowDef="allColumns"
                ></tr>
                <tr
                  nbTreeGridRow
                  *nbTreeGridRowDef="let row; columns: allColumns"
                ></tr>

                <ng-container [nbTreeGridColumnDef]="'AbsenceID'">
                  <th
                    nbTreeGridHeaderCell
                    [nbSortHeader]="getSortDirection('AbsenceID')"
                    *nbTreeGridHeaderCellDef
                  >
                  {{ "GENERALWORDS.ABSENCEID" | translate }}
                  </th>
                  <td nbTreeGridCell *nbTreeGridCellDef="let row">
                    {{ row.data.AbsenceID || "-" }}
                  </td>
                </ng-container>

                <ng-container [nbTreeGridColumnDef]="'AbsenceName'">
                  <th
                    nbTreeGridHeaderCell
                    [nbSortHeader]="getSortDirection('AbsenceName')"
                    *nbTreeGridHeaderCellDef
                  >
                  {{ "GENERALWORDS.EMPLOYEENAME" | translate }}
                  </th>
                  <td nbTreeGridCell *nbTreeGridCellDef="let row">
                    {{ row.data["EmployeeName"] || "-" }}
                  </td>
                </ng-container>
                <ng-container [nbTreeGridColumnDef]="'AbsenceDate'">
                  <th
                    nbTreeGridHeaderCell
                    [nbSortHeader]="getSortDirection('AbsenceDate')"
                    *nbTreeGridHeaderCellDef
                  >
                  {{ "GENERALWORDS.ABSENCEHOUR" | translate }}
                  </th>
                  <td nbTreeGridCell *nbTreeGridCellDef="let row">
                    {{ row.data["AbsenceHours"] || "-" }}
                  </td>
                </ng-container>
                <ng-container [nbTreeGridColumnDef]="'AbsenceHours'">
                  <th
                    nbTreeGridHeaderCell
                    [nbSortHeader]="getSortDirection('AbsenceHours')"
                    *nbTreeGridHeaderCellDef
                  >
                  {{ "GENERALWORDS.ABSENCEDATE" | translate }}
                  </th>
                  <td nbTreeGridCell *nbTreeGridCellDef="let row">
                    {{ row.data["AbsenceDate"] | date : 'dd-MM-yyyy' || "-" }}
                  </td>
                </ng-container>

                <ng-container [nbTreeGridColumnDef]="'Action'">
                  <th
                    nbTreeGridHeaderCell
                    [nbSortHeader]="getSortDirection('Action')"
                    *nbTreeGridHeaderCellDef
                  >
                  {{ "GENERALWORDS.ACTION" | translate }}
                  </th>
                  <td nbTreeGridCell *nbTreeGridCellDef="let row">
                    <a (click)="update(row.data.AbsenceID)"
                      ><i class="nb-edit" style="font-size: 20px"></i
                    ></a>
                    &nbsp;
                    <a (click)="Delete(row.data.AbsenceID)"
                      ><i
                        class="nb-trash"
                        style="font-size: 20px; color: orangered"
                      ></i
                    ></a>
                  </td>
                </ng-container>
              </table>
            </div>
          </div>
        </div>
      </nb-card-body>
    </nb-card>
  </div>
</div>
